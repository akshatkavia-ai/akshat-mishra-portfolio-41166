{"is_source_file": true, "format": "TypeScript", "description": "This file defines types, utility functions, and an async function for submitting contact form data to an external API endpoint, along with associated response handling.", "external_files": ["fetch API (built-in in environments like browsers)", "process.env for environment variables"], "external_methods": ["fetch"], "published": ["ContactPayload", "ContactResponse", "submitContact"], "classes": [], "methods": [{"name": "function hasMessage(x: unknown): x is { message: string } { hasMessage", "description": "Type guard to check if an object has a string 'message' property.", "parameters": ["x: unknown"], "returns": "x is { message: string }", "scope": "", "scopeKind": ""}, {"name": "function isAbortError(err: unknown): boolean { isAbortError", "description": "Checks if an error is an AbortError, considering DOMException if available.", "parameters": ["err: unknown"], "returns": "boolean", "scope": "", "scopeKind": ""}, {"name": "export async function submitContact( submitContact", "description": "Submits the contact form data to an external endpoint defined by environment variable, handles response, and returns structured success/error info.", "parameters": ["data: ContactPayload", "signal?: AbortSignal"], "returns": "Promise<ContactResponse>", "scope": "", "scopeKind": ""}], "calls": ["fetch", "res.text()", "JSON.parse", "hasMessage"], "search-terms": ["contact form submission", "TypeScript contact payload", "fetch contact endpoint", "contact form response handling", "environment variable API base", "abort error handling"], "state": 2, "file_id": 24, "knowledge_revision": 89, "git_revision": "", "ctags": [{"_type": "tag", "name": "ContactPayload", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export type ContactPayload = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ContactResponse", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export type ContactResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const base = (process.env.NEXT_PUBLIC_API_BASE || \"\").replace(\\/\\\\\\/$\\/, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "hasMessage", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^function hasMessage(x: unknown): x is { message: string } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isAbortError", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^function isAbortError(err: unknown): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isJson", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const isJson = text.trim().startsWith(\"{\");$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "submitContact", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export async function submitContact($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const url = `${base}\\/contact`;$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}], "hash": "6824187fb1a7e9fb63013dd10f9da6de", "format-version": 4, "code-base-name": "portfolio_frontend", "filename": "portfolio_frontend/src/lib/contact.ts", "revision_history": [{"89": ""}]}