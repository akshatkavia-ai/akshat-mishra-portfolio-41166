{"is_source_file": true, "format": "TypeScript", "description": "This file defines TypeScript types, validation functions, configuration resolution, and an async function for submitting contact form data to an endpoint, primarily interacting with the Formspree service.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["ContactPayload", "ContactResponse", "submitContact"], "classes": [], "methods": [{"name": "function hasMessage(x: unknown): x is { message: string } { hasMessage", "description": "Type guard to check if an object has a message string property.", "scope": "", "scopeKind": ""}, {"name": "function isAbortError(err: unknown): boolean { isAbortError", "description": "Checks whether an error is an AbortError, considering browser-specific cases.", "scope": "", "scopeKind": ""}, {"name": "function resolveEndpoint(): string { resolveEndpoint", "description": "Determines the endpoint URL for submitting contact data, with fallback options.", "scope": "", "scopeKind": ""}, {"name": "export async function submitContact( submitContact", "description": "Main async function that submits contact form data, handles responses and errors.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "resolveEndpoint", "hasMessage"], "search-terms": ["ContactPayload", "submitContact", "Formspree", "resolveEndpoint", "honeypot", "abort", "fetch"], "state": 2, "file_id": 24, "knowledge_revision": 192, "git_revision": "9685fefa8fb8939ebc2caeee035d07b69deea53a", "revision_history": [{"89": ""}, {"189": "9685fefa8fb8939ebc2caeee035d07b69deea53a"}, {"192": "9685fefa8fb8939ebc2caeee035d07b69deea53a"}], "ctags": [{"_type": "tag", "name": "ContactPayload", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export type ContactPayload = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ContactResponse", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export type ContactResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "endpoint", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const endpoint =$/", "language": "TypeScript", "kind": "constant", "scope": "resolveEndpoint", "scopeKind": "function"}, {"_type": "tag", "name": "errorMsg", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^      const errorMsg =$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "firstErrorMsg", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^      const firstErrorMsg =$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "fromApiBase", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const fromApiBase = (process.env.NEXT_PUBLIC_API_BASE || \"\").trim();$/", "language": "TypeScript", "kind": "constant", "scope": "resolveEndpoint", "scopeKind": "function"}, {"_type": "tag", "name": "fromFormspree", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const fromFormspree = (process.env.NEXT_PUBLIC_FORMSPREE_ENDPOINT || \"\").trim();$/", "language": "TypeScript", "kind": "constant", "scope": "resolveEndpoint", "scopeKind": "function"}, {"_type": "tag", "name": "hasMessage", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^function hasMessage(x: unknown): x is { message: string } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isAbortError", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^function isAbortError(err: unknown): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isJson", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const isJson = text.trim().startsWith(\"{\");$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "okFlag", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const okFlag = (p?.ok === true || p?.success === true) || res.ok;$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const p = (parsed as FormspreeResponse) || null;$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "resolveEndpoint", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^function resolveEndpoint(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "submitContact", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^export async function submitContact($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^    const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/akshat-mishra-portfolio-41166/portfolio_frontend/src/lib/contact.ts", "pattern": "/^  const url = resolveEndpoint();$/", "language": "TypeScript", "kind": "constant", "scope": "submitContact", "scopeKind": "function"}], "hash": "1edd877f6fc07013231df4941528fafc", "format-version": 4, "code-base-name": "portfolio_frontend", "filename": "portfolio_frontend/src/lib/contact.ts"}